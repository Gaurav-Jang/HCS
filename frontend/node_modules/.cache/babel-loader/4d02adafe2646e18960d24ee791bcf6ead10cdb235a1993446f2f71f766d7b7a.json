{"ast":null,"code":"var _jsxFileName = \"/Users/gauravjangra/Desktop/HCS_Git_Clone/HCS/frontend/src/pages/TumorDetection.js\",\n  _s = $RefreshSig$();\n// import React, { useState } from \"react\";\n// import { toast } from \"react-toastify\";\n// import { mlService } from \"../utils/auth\";\n\n// const TumorDetection = () => {\n//   const [selectedFile, setSelectedFile] = useState(null);\n//   const [uploading, setUploading] = useState(false);\n//   const [prediction, setPrediction] = useState(null);\n//   const [dragActive, setDragActive] = useState(false);\n\n//   const handleDrag = (e) => {\n//     e.preventDefault();\n//     e.stopPropagation();\n//     if (e.type === \"dragenter\" || e.type === \"dragover\") {\n//       setDragActive(true);\n//     } else if (e.type === \"dragleave\") {\n//       setDragActive(false);\n//     }\n//   };\n\n//   const handleDrop = (e) => {\n//     e.preventDefault();\n//     e.stopPropagation();\n//     setDragActive(false);\n\n//     if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n//       setSelectedFile(e.dataTransfer.files[0]);\n//     }\n//   };\n\n//   const handleFileSelect = (e) => {\n//     if (e.target.files && e.target.files[0]) {\n//       setSelectedFile(e.target.files[0]);\n//     }\n//   };\n\n//   const handleUpload = async () => {\n//     if (!selectedFile) {\n//       toast.error(\"Please select an MRI image first\");\n//       return;\n//     }\n\n//     setUploading(true);\n//     const formData = new FormData();\n//     formData.append(\"image\", selectedFile);\n\n//     try {\n//       const result = await mlService.predictTumor(formData);\n//       if (result.success) {\n//         setPrediction(result.data);\n//         toast.success(\"MRI analysis completed successfully!\");\n//       } else {\n//         toast.error(result.error);\n//       }\n//     } catch (error) {\n//       toast.error(\"Failed to analyze MRI image\");\n//     } finally {\n//       setUploading(false);\n//     }\n//   };\n\n//   const resetForm = () => {\n//     setSelectedFile(null);\n//     setPrediction(null);\n//   };\n\n//   return (\n//     <div>\n//       <div className=\"d-flex justify-content-between align-items-center mb-4\">\n//         <h1 className=\"h3 mb-0\">\n//           <i className=\"fas fa-brain me-3\"></i>\n//           Brain Tumor Detection\n//         </h1>\n//         <button className=\"btn btn-outline-secondary\" onClick={resetForm}>\n//           <i className=\"fas fa-refresh me-2\"></i>\n//           Start New Analysis\n//         </button>\n//       </div>\n\n//       <div className=\"row\">\n//         {/* Upload Section */}\n//         <div className=\"col-lg-6\">\n//           <div className=\"card border-0 shadow-sm h-100\">\n//             <div className=\"card-header bg-primary text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-upload me-2\"></i>\n//                 Upload MRI Image\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               {!selectedFile ? (\n//                 <div\n//                   className={`border-2 border-dashed rounded p-5 text-center ${\n//                     dragActive ? \"border-primary bg-light\" : \"border-secondary\"\n//                   }`}\n//                   onDragEnter={handleDrag}\n//                   onDragLeave={handleDrag}\n//                   onDragOver={handleDrag}\n//                   onDrop={handleDrop}\n//                   style={{ minHeight: \"300px\", cursor: \"pointer\" }}\n//                 >\n//                   <div className=\"d-flex flex-column align-items-center justify-content-center h-100\">\n//                     <i className=\"fas fa-cloud-upload-alt fa-4x text-muted mb-3\"></i>\n//                     <h5 className=\"text-muted mb-3\">\n//                       Drop your MRI image here or click to browse\n//                     </h5>\n//                     <input\n//                       type=\"file\"\n//                       className=\"d-none\"\n//                       id=\"fileInput\"\n//                       accept=\"image/*\"\n//                       onChange={handleFileSelect}\n//                     />\n//                     <label htmlFor=\"fileInput\" className=\"btn btn-primary\">\n//                       <i className=\"fas fa-folder-open me-2\"></i>\n//                       Choose File\n//                     </label>\n//                     <small className=\"text-muted mt-3\">\n//                       Supported formats: PNG, JPG, JPEG, GIF, BMP, TIFF\n//                       <br />\n//                       Maximum file size: 16MB\n//                     </small>\n//                   </div>\n//                 </div>\n//               ) : (\n//                 <div className=\"text-center\">\n//                   <div className=\"mb-3\">\n//                     <img\n//                       src={URL.createObjectURL(selectedFile)}\n//                       alt=\"Selected MRI\"\n//                       className=\"img-fluid rounded\"\n//                       style={{ maxHeight: \"300px\", maxWidth: \"100%\" }}\n//                     />\n//                   </div>\n//                   <div className=\"mb-3\">\n//                     <h6 className=\"fw-bold\">{selectedFile.name}</h6>\n//                     <small className=\"text-muted\">\n//                       Size: {(selectedFile.size / 1024 / 1024).toFixed(2)} MB\n//                     </small>\n//                   </div>\n//                   <div className=\"d-grid gap-2\">\n//                     <button\n//                       className=\"btn btn-success btn-lg\"\n//                       onClick={handleUpload}\n//                       disabled={uploading}\n//                     >\n//                       {uploading ? (\n//                         <>\n//                           <span className=\"spinner-border spinner-border-sm me-2\"></span>\n//                           Analyzing...\n//                         </>\n//                       ) : (\n//                         <>\n//                           <i className=\"fas fa-brain me-2\"></i>\n//                           Analyze for Brain Tumor\n//                         </>\n//                       )}\n//                     </button>\n//                     <button\n//                       className=\"btn btn-outline-secondary\"\n//                       onClick={resetForm}\n//                     >\n//                       <i className=\"fas fa-times me-2\"></i>\n//                       Remove Image\n//                     </button>\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         </div>\n\n//         {/* Results Section */}\n//         <div className=\"col-lg-6\">\n//           <div className=\"card border-0 shadow-sm h-100\">\n//             <div className=\"card-header bg-success text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-chart-line me-2\"></i>\n//                 Analysis Results\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               {!prediction ? (\n//                 <div className=\"d-flex flex-column align-items-center justify-content-center h-100 text-center\">\n//                   <i className=\"fas fa-brain fa-4x text-muted mb-3\"></i>\n//                   <h5 className=\"text-muted mb-3\">No Analysis Yet</h5>\n//                   <p className=\"text-muted\">\n//                     Upload an MRI image to get AI-powered brain tumor detection\n//                     results.\n//                   </p>\n//                 </div>\n//               ) : (\n//                 <div>\n//                   {/* Main Result */}\n//                   <div className=\"text-center mb-4\">\n//                     <div\n//                       className={`badge fs-4 p-3 mb-3 ${\n//                         prediction.result.prediction === \"tumor_detected\"\n//                           ? \"bg-danger\"\n//                           : \"bg-success\"\n//                       }`}\n//                     >\n//                       {prediction.result.prediction === \"tumor_detected\"\n//                         ? \"Tumor Detected\"\n//                         : \"No Tumor Detected\"}\n//                     </div>\n//                     <div className=\"progress mb-2\" style={{ height: \"20px\" }}>\n//                       <div\n//                         className={`progress-bar ${\n//                           prediction.result.prediction === \"tumor_detected\"\n//                             ? \"bg-danger\"\n//                             : \"bg-success\"\n//                         }`}\n//                         style={{\n//                           width: `${prediction.result.confidence * 100}%`,\n//                         }}\n//                       ></div>\n//                     </div>\n//                     <p className=\"text-muted\">\n//                       Confidence:{\" \"}\n//                       {prediction.result.confidence_score.toFixed(1) + \"%\"}%\n//                     </p>\n//                   </div>\n\n//                   {/* Detailed Results */}\n//                   <div className=\"row text-center mb-4\">\n//                     <div className=\"col-6\">\n//                       <div className=\"border rounded p-3\">\n//                         <h6 className=\"text-danger\">Tumor Probability</h6>\n//                         <h4 className=\"text-danger\">\n//                           {prediction.result.tumor_probability.toFixed(1)}%\n//                         </h4>\n//                       </div>\n//                     </div>\n//                     <div className=\"col-6\">\n//                       <div className=\"border rounded p-3\">\n//                         <h6 className=\"text-success\">Normal Probability</h6>\n//                         <h4 className=\"text-success\">\n//                           {prediction.result.no_tumor_probability.toFixed(1)}%\n//                         </h4>\n//                       </div>\n//                     </div>\n//                   </div>\n\n//                   {/* Recommendation */}\n//                   <div className=\"alert alert-info\">\n//                     <h6 className=\"alert-heading\">\n//                       <i className=\"fas fa-info-circle me-2\"></i>\n//                       Recommendation\n//                     </h6>\n//                     {prediction.result.prediction === \"tumor_detected\" ? (\n//                       <p className=\"mb-0\">\n//                         The AI model has detected potential abnormalities.\n//                         Please consult with a neurologist immediately for\n//                         further evaluation and proper medical assessment.\n//                       </p>\n//                     ) : (\n//                       <p className=\"mb-0\">\n//                         The AI analysis suggests no tumor is present. However,\n//                         continue with regular check-ups as recommended by your\n//                         healthcare provider.\n//                       </p>\n//                     )}\n//                   </div>\n\n//                   {/* Action Buttons */}\n//                   <div className=\"d-grid gap-2\">\n//                     <button className=\"btn btn-primary\">\n//                       <i className=\"fas fa-calendar-plus me-2\"></i>\n//                       Book Consultation\n//                     </button>\n//                     <button className=\"btn btn-outline-primary\">\n//                       <i className=\"fas fa-download me-2\"></i>\n//                       Download Report\n//                     </button>\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* AI Model Information */}\n//       <div className=\"row mt-4\">\n//         <div className=\"col-12\">\n//           <div className=\"card border-0 shadow-sm\">\n//             <div className=\"card-header bg-info text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-robot me-2\"></i>\n//                 AI Model Information\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               <div className=\"row\">\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Model Type</h6>\n//                   <p className=\"text-muted\">\n//                     Convolutional Neural Network (CNN)\n//                   </p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Accuracy</h6>\n//                   <p className=\"text-muted\">92.5%</p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Input Size</h6>\n//                   <p className=\"text-muted\">224x224 pixels</p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Version</h6>\n//                   <p className=\"text-muted\">v1.0</p>\n//                 </div>\n//               </div>\n//               <div className=\"alert alert-warning mb-0\">\n//                 <strong>Important:</strong> This AI analysis is for screening\n//                 purposes only and should not replace professional medical\n//                 diagnosis. Always consult with qualified healthcare\n//                 professionals for medical decisions.\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default TumorDetection;\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { mlService } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TumorDetection = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [prediction, setPrediction] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n  const imageRef = useRef(null);\n  const canvasRef = useRef(null);\n  const handleDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setSelectedFile(e.dataTransfer.files[0]);\n      setPrediction(null);\n    }\n  };\n  const handleFileSelect = e => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n      setPrediction(null);\n    }\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select an MRI image first\");\n      return;\n    }\n    setUploading(true);\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n    try {\n      const result = await mlService.predictTumor(formData);\n      if (result.success) {\n        setPrediction(result.data);\n        toast.success(\"MRI analysis completed successfully!\");\n      } else {\n        toast.error(result.error);\n      }\n    } catch (error) {\n      toast.error(\"Failed to analyze MRI image\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  const resetForm = () => {\n    setSelectedFile(null);\n    setPrediction(null);\n  };\n\n  // Draw bounding boxes for tumor regions\n  useEffect(() => {\n    if (!prediction || !imageRef.current || !canvasRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const img = imageRef.current;\n    canvas.width = img.width;\n    canvas.height = img.height;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (prediction.result.region_analysis && prediction.result.region_analysis.tumor_regions.length > 0) {\n      ctx.strokeStyle = \"red\";\n      ctx.lineWidth = 2;\n      prediction.result.region_analysis.tumor_regions.forEach(region => {\n        // Scale coordinates to image display size\n        const scaleX = img.width / prediction.result.image_width;\n        const scaleY = img.height / prediction.result.image_height;\n        const x = region.x1 * scaleX;\n        const y = region.y1 * scaleY;\n        const width = (region.x2 - region.x1) * scaleX;\n        const height = (region.y2 - region.y1) * scaleY;\n        ctx.strokeRect(x, y, width, height);\n        ctx.font = \"14px Arial\";\n        ctx.fillStyle = \"red\";\n        ctx.fillText(\"Tumor\", x + 5, y + 15);\n      });\n    }\n  }, [prediction]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h3 mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-brain me-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), \"Brain Tumor Detection\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        onClick: resetForm,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-refresh me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), \"Start New Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card border-0 shadow-sm h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-primary text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-upload me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this), \"Upload MRI Image\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: !selectedFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-2 border-dashed rounded p-5 text-center ${dragActive ? \"border-primary bg-light\" : \"border-secondary\"}`,\n              onDragEnter: handleDrag,\n              onDragLeave: handleDrag,\n              onDragOver: handleDrag,\n              onDrop: handleDrop,\n              style: {\n                minHeight: \"300px\",\n                cursor: \"pointer\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column align-items-center justify-content-center h-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-cloud-upload-alt fa-4x text-muted mb-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-muted mb-3\",\n                  children: \"Drop your MRI image here or click to browse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"d-none\",\n                  id: \"fileInput\",\n                  accept: \"image/*\",\n                  onChange: handleFileSelect\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"fileInput\",\n                  className: \"btn btn-primary\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-folder-open me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this), \"Choose File\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 position-relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  ref: imageRef,\n                  src: URL.createObjectURL(selectedFile),\n                  alt: \"Selected MRI\",\n                  className: \"img-fluid rounded\",\n                  style: {\n                    maxHeight: \"300px\",\n                    maxWidth: \"100%\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n                  ref: canvasRef,\n                  style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    pointerEvents: \"none\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"fw-bold\",\n                  children: selectedFile.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: [\"Size: \", (selectedFile.size / 1024 / 1024).toFixed(2), \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-grid gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-lg\",\n                  onClick: handleUpload,\n                  disabled: uploading,\n                  children: uploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"spinner-border spinner-border-sm me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 27\n                    }, this), \"Analyzing...\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-brain me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 27\n                    }, this), \"Analyze for Brain Tumor\"]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-secondary\",\n                  onClick: resetForm,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 23\n                  }, this), \"Remove Image\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card border-0 shadow-sm h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-success text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-line me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 17\n              }, this), \"Analysis Results\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: !prediction ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-column align-items-center justify-content-center h-100 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-brain fa-4x text-muted mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-muted mb-3\",\n                children: \"No Analysis Yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted\",\n                children: \"Upload an MRI image to get AI-powered brain tumor detection results.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `badge fs-4 p-3 mb-3 ${prediction.result.prediction === \"notumor\" ? \"bg-success\" : \"bg-danger\"}`,\n                  children: prediction.result.prediction === \"notumor\" ? \"No Tumor Detected\" : \"Tumor Detected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress mb-2\",\n                  style: {\n                    height: \"20px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `progress-bar ${prediction.result.prediction === \"notumor\" ? \"bg-success\" : \"bg-danger\"}`,\n                    style: {\n                      width: `${prediction.result.confidence_score * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted\",\n                  children: [\"Confidence:\", \" \", (prediction.result.confidence_score * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row text-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border rounded p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"text-danger\",\n                      children: \"Tumor Probability\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 607,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-danger\",\n                      children: [prediction.result.tumor_probability.toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border rounded p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"text-success\",\n                      children: \"Normal Probability\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-success\",\n                      children: [prediction.result.no_tumor_probability.toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this), prediction.result.region_analysis && prediction.result.region_analysis.tumor_regions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Tumor Regions Detected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: prediction.result.region_analysis.tumor_regions.map((region, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"Region \", index + 1, \": (\", region.x1, \", \", region.y1, \") - (\", region.x2, \", \", region.y2, \") | Size:\", \" \", prediction.result.region_analysis.sizes[index], \" \", \"px\"]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"alert-heading\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-info-circle me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 23\n                  }, this), \"Recommendation\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 21\n                }, this), prediction.result.prediction !== \"notumor\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-0\",\n                  children: \"The AI model has detected potential abnormalities. Please consult with a neurologist immediately for further evaluation and proper medical assessment.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-0\",\n                  children: \"The AI analysis suggests no tumor is present. However, continue with regular check-ups as recommended by your healthcare provider.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 440,\n    columnNumber: 5\n  }, this);\n};\n_s(TumorDetection, \"HJsk7UzPXJSi0wh66jck65gzDdA=\");\n_c = TumorDetection;\nexport default TumorDetection;\nvar _c;\n$RefreshReg$(_c, \"TumorDetection\");","map":{"version":3,"names":["React","useState","useRef","useEffect","toast","mlService","jsxDEV","_jsxDEV","Fragment","_Fragment","TumorDetection","_s","selectedFile","setSelectedFile","uploading","setUploading","prediction","setPrediction","dragActive","setDragActive","imageRef","canvasRef","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","files","handleFileSelect","target","handleUpload","error","formData","FormData","append","result","predictTumor","success","data","resetForm","current","canvas","ctx","getContext","img","width","height","clearRect","region_analysis","tumor_regions","length","strokeStyle","lineWidth","forEach","region","scaleX","image_width","scaleY","image_height","x","x1","y","y1","x2","y2","strokeRect","font","fillStyle","fillText","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDragEnter","onDragLeave","onDragOver","onDrop","style","minHeight","cursor","id","accept","onChange","htmlFor","ref","src","URL","createObjectURL","alt","maxHeight","maxWidth","position","top","left","pointerEvents","name","size","toFixed","disabled","confidence_score","tumor_probability","no_tumor_probability","map","index","sizes","_c","$RefreshReg$"],"sources":["/Users/gauravjangra/Desktop/HCS_Git_Clone/HCS/frontend/src/pages/TumorDetection.js"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { toast } from \"react-toastify\";\n// import { mlService } from \"../utils/auth\";\n\n// const TumorDetection = () => {\n//   const [selectedFile, setSelectedFile] = useState(null);\n//   const [uploading, setUploading] = useState(false);\n//   const [prediction, setPrediction] = useState(null);\n//   const [dragActive, setDragActive] = useState(false);\n\n//   const handleDrag = (e) => {\n//     e.preventDefault();\n//     e.stopPropagation();\n//     if (e.type === \"dragenter\" || e.type === \"dragover\") {\n//       setDragActive(true);\n//     } else if (e.type === \"dragleave\") {\n//       setDragActive(false);\n//     }\n//   };\n\n//   const handleDrop = (e) => {\n//     e.preventDefault();\n//     e.stopPropagation();\n//     setDragActive(false);\n\n//     if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n//       setSelectedFile(e.dataTransfer.files[0]);\n//     }\n//   };\n\n//   const handleFileSelect = (e) => {\n//     if (e.target.files && e.target.files[0]) {\n//       setSelectedFile(e.target.files[0]);\n//     }\n//   };\n\n//   const handleUpload = async () => {\n//     if (!selectedFile) {\n//       toast.error(\"Please select an MRI image first\");\n//       return;\n//     }\n\n//     setUploading(true);\n//     const formData = new FormData();\n//     formData.append(\"image\", selectedFile);\n\n//     try {\n//       const result = await mlService.predictTumor(formData);\n//       if (result.success) {\n//         setPrediction(result.data);\n//         toast.success(\"MRI analysis completed successfully!\");\n//       } else {\n//         toast.error(result.error);\n//       }\n//     } catch (error) {\n//       toast.error(\"Failed to analyze MRI image\");\n//     } finally {\n//       setUploading(false);\n//     }\n//   };\n\n//   const resetForm = () => {\n//     setSelectedFile(null);\n//     setPrediction(null);\n//   };\n\n//   return (\n//     <div>\n//       <div className=\"d-flex justify-content-between align-items-center mb-4\">\n//         <h1 className=\"h3 mb-0\">\n//           <i className=\"fas fa-brain me-3\"></i>\n//           Brain Tumor Detection\n//         </h1>\n//         <button className=\"btn btn-outline-secondary\" onClick={resetForm}>\n//           <i className=\"fas fa-refresh me-2\"></i>\n//           Start New Analysis\n//         </button>\n//       </div>\n\n//       <div className=\"row\">\n//         {/* Upload Section */}\n//         <div className=\"col-lg-6\">\n//           <div className=\"card border-0 shadow-sm h-100\">\n//             <div className=\"card-header bg-primary text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-upload me-2\"></i>\n//                 Upload MRI Image\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               {!selectedFile ? (\n//                 <div\n//                   className={`border-2 border-dashed rounded p-5 text-center ${\n//                     dragActive ? \"border-primary bg-light\" : \"border-secondary\"\n//                   }`}\n//                   onDragEnter={handleDrag}\n//                   onDragLeave={handleDrag}\n//                   onDragOver={handleDrag}\n//                   onDrop={handleDrop}\n//                   style={{ minHeight: \"300px\", cursor: \"pointer\" }}\n//                 >\n//                   <div className=\"d-flex flex-column align-items-center justify-content-center h-100\">\n//                     <i className=\"fas fa-cloud-upload-alt fa-4x text-muted mb-3\"></i>\n//                     <h5 className=\"text-muted mb-3\">\n//                       Drop your MRI image here or click to browse\n//                     </h5>\n//                     <input\n//                       type=\"file\"\n//                       className=\"d-none\"\n//                       id=\"fileInput\"\n//                       accept=\"image/*\"\n//                       onChange={handleFileSelect}\n//                     />\n//                     <label htmlFor=\"fileInput\" className=\"btn btn-primary\">\n//                       <i className=\"fas fa-folder-open me-2\"></i>\n//                       Choose File\n//                     </label>\n//                     <small className=\"text-muted mt-3\">\n//                       Supported formats: PNG, JPG, JPEG, GIF, BMP, TIFF\n//                       <br />\n//                       Maximum file size: 16MB\n//                     </small>\n//                   </div>\n//                 </div>\n//               ) : (\n//                 <div className=\"text-center\">\n//                   <div className=\"mb-3\">\n//                     <img\n//                       src={URL.createObjectURL(selectedFile)}\n//                       alt=\"Selected MRI\"\n//                       className=\"img-fluid rounded\"\n//                       style={{ maxHeight: \"300px\", maxWidth: \"100%\" }}\n//                     />\n//                   </div>\n//                   <div className=\"mb-3\">\n//                     <h6 className=\"fw-bold\">{selectedFile.name}</h6>\n//                     <small className=\"text-muted\">\n//                       Size: {(selectedFile.size / 1024 / 1024).toFixed(2)} MB\n//                     </small>\n//                   </div>\n//                   <div className=\"d-grid gap-2\">\n//                     <button\n//                       className=\"btn btn-success btn-lg\"\n//                       onClick={handleUpload}\n//                       disabled={uploading}\n//                     >\n//                       {uploading ? (\n//                         <>\n//                           <span className=\"spinner-border spinner-border-sm me-2\"></span>\n//                           Analyzing...\n//                         </>\n//                       ) : (\n//                         <>\n//                           <i className=\"fas fa-brain me-2\"></i>\n//                           Analyze for Brain Tumor\n//                         </>\n//                       )}\n//                     </button>\n//                     <button\n//                       className=\"btn btn-outline-secondary\"\n//                       onClick={resetForm}\n//                     >\n//                       <i className=\"fas fa-times me-2\"></i>\n//                       Remove Image\n//                     </button>\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         </div>\n\n//         {/* Results Section */}\n//         <div className=\"col-lg-6\">\n//           <div className=\"card border-0 shadow-sm h-100\">\n//             <div className=\"card-header bg-success text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-chart-line me-2\"></i>\n//                 Analysis Results\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               {!prediction ? (\n//                 <div className=\"d-flex flex-column align-items-center justify-content-center h-100 text-center\">\n//                   <i className=\"fas fa-brain fa-4x text-muted mb-3\"></i>\n//                   <h5 className=\"text-muted mb-3\">No Analysis Yet</h5>\n//                   <p className=\"text-muted\">\n//                     Upload an MRI image to get AI-powered brain tumor detection\n//                     results.\n//                   </p>\n//                 </div>\n//               ) : (\n//                 <div>\n//                   {/* Main Result */}\n//                   <div className=\"text-center mb-4\">\n//                     <div\n//                       className={`badge fs-4 p-3 mb-3 ${\n//                         prediction.result.prediction === \"tumor_detected\"\n//                           ? \"bg-danger\"\n//                           : \"bg-success\"\n//                       }`}\n//                     >\n//                       {prediction.result.prediction === \"tumor_detected\"\n//                         ? \"Tumor Detected\"\n//                         : \"No Tumor Detected\"}\n//                     </div>\n//                     <div className=\"progress mb-2\" style={{ height: \"20px\" }}>\n//                       <div\n//                         className={`progress-bar ${\n//                           prediction.result.prediction === \"tumor_detected\"\n//                             ? \"bg-danger\"\n//                             : \"bg-success\"\n//                         }`}\n//                         style={{\n//                           width: `${prediction.result.confidence * 100}%`,\n//                         }}\n//                       ></div>\n//                     </div>\n//                     <p className=\"text-muted\">\n//                       Confidence:{\" \"}\n//                       {prediction.result.confidence_score.toFixed(1) + \"%\"}%\n//                     </p>\n//                   </div>\n\n//                   {/* Detailed Results */}\n//                   <div className=\"row text-center mb-4\">\n//                     <div className=\"col-6\">\n//                       <div className=\"border rounded p-3\">\n//                         <h6 className=\"text-danger\">Tumor Probability</h6>\n//                         <h4 className=\"text-danger\">\n//                           {prediction.result.tumor_probability.toFixed(1)}%\n//                         </h4>\n//                       </div>\n//                     </div>\n//                     <div className=\"col-6\">\n//                       <div className=\"border rounded p-3\">\n//                         <h6 className=\"text-success\">Normal Probability</h6>\n//                         <h4 className=\"text-success\">\n//                           {prediction.result.no_tumor_probability.toFixed(1)}%\n//                         </h4>\n//                       </div>\n//                     </div>\n//                   </div>\n\n//                   {/* Recommendation */}\n//                   <div className=\"alert alert-info\">\n//                     <h6 className=\"alert-heading\">\n//                       <i className=\"fas fa-info-circle me-2\"></i>\n//                       Recommendation\n//                     </h6>\n//                     {prediction.result.prediction === \"tumor_detected\" ? (\n//                       <p className=\"mb-0\">\n//                         The AI model has detected potential abnormalities.\n//                         Please consult with a neurologist immediately for\n//                         further evaluation and proper medical assessment.\n//                       </p>\n//                     ) : (\n//                       <p className=\"mb-0\">\n//                         The AI analysis suggests no tumor is present. However,\n//                         continue with regular check-ups as recommended by your\n//                         healthcare provider.\n//                       </p>\n//                     )}\n//                   </div>\n\n//                   {/* Action Buttons */}\n//                   <div className=\"d-grid gap-2\">\n//                     <button className=\"btn btn-primary\">\n//                       <i className=\"fas fa-calendar-plus me-2\"></i>\n//                       Book Consultation\n//                     </button>\n//                     <button className=\"btn btn-outline-primary\">\n//                       <i className=\"fas fa-download me-2\"></i>\n//                       Download Report\n//                     </button>\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* AI Model Information */}\n//       <div className=\"row mt-4\">\n//         <div className=\"col-12\">\n//           <div className=\"card border-0 shadow-sm\">\n//             <div className=\"card-header bg-info text-white\">\n//               <h5 className=\"mb-0\">\n//                 <i className=\"fas fa-robot me-2\"></i>\n//                 AI Model Information\n//               </h5>\n//             </div>\n//             <div className=\"card-body\">\n//               <div className=\"row\">\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Model Type</h6>\n//                   <p className=\"text-muted\">\n//                     Convolutional Neural Network (CNN)\n//                   </p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Accuracy</h6>\n//                   <p className=\"text-muted\">92.5%</p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Input Size</h6>\n//                   <p className=\"text-muted\">224x224 pixels</p>\n//                 </div>\n//                 <div className=\"col-md-3\">\n//                   <h6 className=\"fw-bold\">Version</h6>\n//                   <p className=\"text-muted\">v1.0</p>\n//                 </div>\n//               </div>\n//               <div className=\"alert alert-warning mb-0\">\n//                 <strong>Important:</strong> This AI analysis is for screening\n//                 purposes only and should not replace professional medical\n//                 diagnosis. Always consult with qualified healthcare\n//                 professionals for medical decisions.\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default TumorDetection;\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { mlService } from \"../utils/auth\";\n\nconst TumorDetection = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [prediction, setPrediction] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n  const imageRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setSelectedFile(e.dataTransfer.files[0]);\n      setPrediction(null);\n    }\n  };\n\n  const handleFileSelect = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n      setPrediction(null);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select an MRI image first\");\n      return;\n    }\n\n    setUploading(true);\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    try {\n      const result = await mlService.predictTumor(formData);\n      if (result.success) {\n        setPrediction(result.data);\n        toast.success(\"MRI analysis completed successfully!\");\n      } else {\n        toast.error(result.error);\n      }\n    } catch (error) {\n      toast.error(\"Failed to analyze MRI image\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const resetForm = () => {\n    setSelectedFile(null);\n    setPrediction(null);\n  };\n\n  // Draw bounding boxes for tumor regions\n  useEffect(() => {\n    if (!prediction || !imageRef.current || !canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const img = imageRef.current;\n\n    canvas.width = img.width;\n    canvas.height = img.height;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (\n      prediction.result.region_analysis &&\n      prediction.result.region_analysis.tumor_regions.length > 0\n    ) {\n      ctx.strokeStyle = \"red\";\n      ctx.lineWidth = 2;\n\n      prediction.result.region_analysis.tumor_regions.forEach((region) => {\n        // Scale coordinates to image display size\n        const scaleX = img.width / prediction.result.image_width;\n        const scaleY = img.height / prediction.result.image_height;\n\n        const x = region.x1 * scaleX;\n        const y = region.y1 * scaleY;\n        const width = (region.x2 - region.x1) * scaleX;\n        const height = (region.y2 - region.y1) * scaleY;\n\n        ctx.strokeRect(x, y, width, height);\n        ctx.font = \"14px Arial\";\n        ctx.fillStyle = \"red\";\n        ctx.fillText(\"Tumor\", x + 5, y + 15);\n      });\n    }\n  }, [prediction]);\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h1 className=\"h3 mb-0\">\n          <i className=\"fas fa-brain me-3\"></i>\n          Brain Tumor Detection\n        </h1>\n        <button className=\"btn btn-outline-secondary\" onClick={resetForm}>\n          <i className=\"fas fa-refresh me-2\"></i>\n          Start New Analysis\n        </button>\n      </div>\n\n      <div className=\"row\">\n        {/* Upload Section */}\n        <div className=\"col-lg-6\">\n          <div className=\"card border-0 shadow-sm h-100\">\n            <div className=\"card-header bg-primary text-white\">\n              <h5 className=\"mb-0\">\n                <i className=\"fas fa-upload me-2\"></i>\n                Upload MRI Image\n              </h5>\n            </div>\n            <div className=\"card-body\">\n              {!selectedFile ? (\n                <div\n                  className={`border-2 border-dashed rounded p-5 text-center ${\n                    dragActive ? \"border-primary bg-light\" : \"border-secondary\"\n                  }`}\n                  onDragEnter={handleDrag}\n                  onDragLeave={handleDrag}\n                  onDragOver={handleDrag}\n                  onDrop={handleDrop}\n                  style={{ minHeight: \"300px\", cursor: \"pointer\" }}\n                >\n                  <div className=\"d-flex flex-column align-items-center justify-content-center h-100\">\n                    <i className=\"fas fa-cloud-upload-alt fa-4x text-muted mb-3\"></i>\n                    <h5 className=\"text-muted mb-3\">\n                      Drop your MRI image here or click to browse\n                    </h5>\n                    <input\n                      type=\"file\"\n                      className=\"d-none\"\n                      id=\"fileInput\"\n                      accept=\"image/*\"\n                      onChange={handleFileSelect}\n                    />\n                    <label htmlFor=\"fileInput\" className=\"btn btn-primary\">\n                      <i className=\"fas fa-folder-open me-2\"></i>\n                      Choose File\n                    </label>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center\">\n                  <div className=\"mb-3 position-relative\">\n                    <img\n                      ref={imageRef}\n                      src={URL.createObjectURL(selectedFile)}\n                      alt=\"Selected MRI\"\n                      className=\"img-fluid rounded\"\n                      style={{ maxHeight: \"300px\", maxWidth: \"100%\" }}\n                    />\n                    {/* Overlay Canvas */}\n                    <canvas\n                      ref={canvasRef}\n                      style={{\n                        position: \"absolute\",\n                        top: 0,\n                        left: 0,\n                        pointerEvents: \"none\",\n                      }}\n                    />\n                  </div>\n                  <div className=\"mb-3\">\n                    <h6 className=\"fw-bold\">{selectedFile.name}</h6>\n                    <small className=\"text-muted\">\n                      Size: {(selectedFile.size / 1024 / 1024).toFixed(2)} MB\n                    </small>\n                  </div>\n                  <div className=\"d-grid gap-2\">\n                    <button\n                      className=\"btn btn-success btn-lg\"\n                      onClick={handleUpload}\n                      disabled={uploading}\n                    >\n                      {uploading ? (\n                        <>\n                          <span className=\"spinner-border spinner-border-sm me-2\"></span>\n                          Analyzing...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"fas fa-brain me-2\"></i>\n                          Analyze for Brain Tumor\n                        </>\n                      )}\n                    </button>\n                    <button\n                      className=\"btn btn-outline-secondary\"\n                      onClick={resetForm}\n                    >\n                      <i className=\"fas fa-times me-2\"></i>\n                      Remove Image\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Results Section */}\n        <div className=\"col-lg-6\">\n          <div className=\"card border-0 shadow-sm h-100\">\n            <div className=\"card-header bg-success text-white\">\n              <h5 className=\"mb-0\">\n                <i className=\"fas fa-chart-line me-2\"></i>\n                Analysis Results\n              </h5>\n            </div>\n            <div className=\"card-body\">\n              {!prediction ? (\n                <div className=\"d-flex flex-column align-items-center justify-content-center h-100 text-center\">\n                  <i className=\"fas fa-brain fa-4x text-muted mb-3\"></i>\n                  <h5 className=\"text-muted mb-3\">No Analysis Yet</h5>\n                  <p className=\"text-muted\">\n                    Upload an MRI image to get AI-powered brain tumor detection\n                    results.\n                  </p>\n                </div>\n              ) : (\n                <div>\n                  {/* Main Result */}\n                  <div className=\"text-center mb-4\">\n                    <div\n                      className={`badge fs-4 p-3 mb-3 ${\n                        prediction.result.prediction === \"notumor\"\n                          ? \"bg-success\"\n                          : \"bg-danger\"\n                      }`}\n                    >\n                      {prediction.result.prediction === \"notumor\"\n                        ? \"No Tumor Detected\"\n                        : \"Tumor Detected\"}\n                    </div>\n                    <div className=\"progress mb-2\" style={{ height: \"20px\" }}>\n                      <div\n                        className={`progress-bar ${\n                          prediction.result.prediction === \"notumor\"\n                            ? \"bg-success\"\n                            : \"bg-danger\"\n                        }`}\n                        style={{\n                          width: `${prediction.result.confidence_score * 100}%`,\n                        }}\n                      ></div>\n                    </div>\n                    <p className=\"text-muted\">\n                      Confidence:{\" \"}\n                      {(prediction.result.confidence_score * 100).toFixed(1)}%\n                    </p>\n                  </div>\n\n                  {/* Detailed Results */}\n                  <div className=\"row text-center mb-4\">\n                    <div className=\"col-6\">\n                      <div className=\"border rounded p-3\">\n                        <h6 className=\"text-danger\">Tumor Probability</h6>\n                        <h4 className=\"text-danger\">\n                          {prediction.result.tumor_probability.toFixed(1)}%\n                        </h4>\n                      </div>\n                    </div>\n                    <div className=\"col-6\">\n                      <div className=\"border rounded p-3\">\n                        <h6 className=\"text-success\">Normal Probability</h6>\n                        <h4 className=\"text-success\">\n                          {prediction.result.no_tumor_probability.toFixed(1)}%\n                        </h4>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Region Info List */}\n                  {prediction.result.region_analysis &&\n                    prediction.result.region_analysis.tumor_regions.length >\n                      0 && (\n                      <div className=\"mb-4\">\n                        <h6>Tumor Regions Detected:</h6>\n                        <ul>\n                          {prediction.result.region_analysis.tumor_regions.map(\n                            (region, index) => (\n                              <li key={index}>\n                                Region {index + 1}: ({region.x1}, {region.y1}) -\n                                ({region.x2}, {region.y2}) | Size:{\" \"}\n                                {prediction.result.region_analysis.sizes[index]}{\" \"}\n                                px\n                              </li>\n                            )\n                          )}\n                        </ul>\n                      </div>\n                    )}\n\n                  {/* Recommendation */}\n                  <div className=\"alert alert-info\">\n                    <h6 className=\"alert-heading\">\n                      <i className=\"fas fa-info-circle me-2\"></i>\n                      Recommendation\n                    </h6>\n                    {prediction.result.prediction !== \"notumor\" ? (\n                      <p className=\"mb-0\">\n                        The AI model has detected potential abnormalities.\n                        Please consult with a neurologist immediately for\n                        further evaluation and proper medical assessment.\n                      </p>\n                    ) : (\n                      <p className=\"mb-0\">\n                        The AI analysis suggests no tumor is present. However,\n                        continue with regular check-ups as recommended by your\n                        healthcare provider.\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TumorDetection;\n"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}